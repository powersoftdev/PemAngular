<app-sidebar></app-sidebar>
<div class="page-wrapper">
<div class="content container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div class="page-head-box">
                <h3>Deduction Report</h3>
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a routerLink="/dashboard">Dashboard</a>
                        </li>
                        <li class="breadcrumb-item active" aria-current="page">
                            Deduction  Report
                        </li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>

<div class="container border-dark">
    <div class="container">
        <div >
            <div>
                <form [formGroup]="DeductionForm" (ngSubmit)="getDeductionData()">
                    <div>
                        <label for="pform"> Form</label> <div>
                            <input type="date" id="pform"  min="1900-01-01" max="2030-12-31"  formControlName="startDate" [ngClass]="{ 'is-invalid': DeductionForm.get('startDate')?.invalid &&
                        (DeductionForm.get('startDate')?.dirty || DeductionForm.get('startDate')?.touched)}">
                        <div class="invalid-feedback">
                          <b> This field is required.</b>
                        </div>
                        </div>
                        
                    </div>

                    <div> 
                        <label for="periodTo"> To</label>  
                        <div>
                            <input type="date" useValueAsDate  id="periodTo" min="1900-01-01" max="2030-12-31"  formControlName="endDate" [ngClass]="{'is-invalid': DeductionForm.get('endDate')?.invalid &&
                                        (DeductionForm.get('endDate')?.dirty || DeductionForm.get('endDate')?.touched)}">
                            <div class="invalid-feedback">
                            <b> This field is required.</b>   
                            </div>
                        </div>
                    </div>
<br>

                    <button type="submit" class="btn btn-primary" [disabled]="!DeductionForm.valid" >Get Deduction Data</button>
                </form>
            </div> <br> 
        </div>
    </div>
    <div class="long-title">
           

<dx-data-grid id="gridContainer" [dataSource]="deductionData" [allowColumnReordering]="true"
[showBorders]="true">

<!-- <dxi-column [width]="200" caption="Sr. No" dataField="" cellTemplate=""></dxi-column> -->
<dxi-column caption="Employee Id" dataField="employeeId"></dxi-column>
<dxi-column caption="Employee Name" dataField="name"></dxi-column>
<dxi-column caption="Missed Period" dataField="missedPeriod"></dxi-column>
<dxi-column caption="Total Absent Days" dataField="totalAbsentDays"></dxi-column>
<dxi-column caption="Total Minutes" dataField="totalMinutes"></dxi-column>


<dxo-selection mode="multiple"></dxo-selection>
                    <dxo-paging [pageSize]="10"></dxo-paging>

                    <dxo-export [enabled]="true" [formats]="['xlsx','pdf','csv']" [allowExportSelectedData]="true"></dxo-export>

                    <dxo-group-panel [visible]="true">  </dxo-group-panel>

                    <dxo-search-panel    [visible]="true"   [width]="240"  placeholder="Search..." ></dxo-search-panel>

                    <dxo-column-chooser    [enabled]="true"   mode="select">  </dxo-column-chooser>
                    
                    <dxo-grouping  [contextMenuEnabled]="true">  </dxo-grouping>
</dx-data-grid>
    </div>
</div>
</div>